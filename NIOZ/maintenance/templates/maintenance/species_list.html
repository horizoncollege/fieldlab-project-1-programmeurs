{% extends 'maintenance/index.html' %}

{% block content %}

<div class="species_list_wrapper">
    <table cellspacing="0" cellpadding="5" class="text">
        <tbody>
            <tr>
                <th>Species&nbsp;&nbsp;<a href="#" id="new-species-btn" class="but11">&nbsp;new&nbsp;</a></th>
            </tr>
            <tr>
                <td class="background">
                    <table border="1" cellspacing="0" cellpadding="2" class="text">
                        <thead>
                            <tr>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=3&amp;xx=1" class="center">SpeciesID</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=9&amp;xx=1" class="bok11">Active</a></th>
                                <th class="bgn11"><a href="procfish.php?cmd=7010&amp;sx=1&amp;xx=1" class="bgn11">NL name</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=6&amp;xx=1" class="bok11">EN name</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=2&amp;xx=1" class="bok11">LATIN name</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=4&amp;xx=1" class="bok11">WoRMS</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=10&amp;xx=1" class="bok11">PaulyTrophicLevel</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=5&amp;xx=1" class="center">varx</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=7&amp;xx=1" class="bok11">fish</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=13&amp;xx=1" class="center">coll/wk</a></th>
                                <th class="bok11"><a href="procfish.php?cmd=7010&amp;sx=12&amp;xx=1" class="center">alw.coll</a></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for specie in species %}
                            <tr>
                                <td class="center">{{ specie.id }}</td>
                                <td class="center">
                                    <img src="{% if specie.active %}../../../../../static/img/checkbox.png{% else %}../../../../../static/img/checkbox_empty.png{% endif %}" 
                                         alt="Active Checkbox" style="width: 15px; height: 15px;">
                                </td>
                                <td>{{ specie.nl_name }}</td>
                                <td>{{ specie.name }}</td>
                                <td>{{ specie.latin_name }}</td>
                                <td>{{ specie.WoRMS }}</td>
                                <td class="center">{{ specie.pauly_trophic_level }}</td>
                                <td class="center">{{ specie.var_x }}</td>
                                <td class="center">
                                    <img src="{% if specie.fishflag %}../../../../../static/img/checkbox.png{% else %}../../../../../static/img/checkbox_empty.png{% endif %}" 
                                         alt="Fishflag Checkbox" style="width: 15px; height: 15px;">
                                </td>
                                <td class="center">{{ specie.collecting_per_week }}</td>
                                <td class="center">
                                    <img src="{% if specie.always_collecting %}../../../../../static/img/checkbox.png{% else %}../../../../../static/img/checkbox_empty.png{% endif %}" 
                                         alt="Always Collecting Checkbox" style="width: 15px; height: 15px;">
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
    <form method="POST" action="{% url 'species_list' %}">
        {% csrf_token %}
        <table border="1" cellspacing="0" cellpadding="2" class="text" style="display: none;" id="species-form">
            <tbody>
                <tr>
                    <th colspan="2">New record</th>
                </tr>
                <tr>
                    <th>variable</th>
                    <th>value</th>
                </tr>
                <div class="background2">
                    <tr>
                        <td>Species ID:</td>
                        <td><input type="text" name="species_id" id="species_id" size="6" maxlength="20" tabindex="1"></td>
                    </tr>
                    <tr>
                        <td>Active:</td>
                        <td>
                            <input type="checkbox" name="active" id="active" value="1" tabindex="2">
                        </td>
                    </tr>
                    <tr>
                        <td>NL Name:</td>
                        <td><input type="text" name="nl_name" id="nl_name" size="40" maxlength="255" tabindex="3"></td>
                    </tr>
                    <tr>
                        <td>EN Name:</td>
                        <td><input type="text" name="name" id="name" size="40" maxlength="255" tabindex="4"></td>
                    </tr>
                    <tr>
                        <td>Latin Name:</td>
                        <td><input type="text" name="latin_name" id="latin_name" size="40" maxlength="255" tabindex="5"></td>
                    </tr>
                    <tr>
                        <td>WoRMS:</td>
                        <td><input type="text" name="WoRMS" id="WoRMS" size="6" maxlength="11" tabindex="6"></td>
                    </tr>
                    <tr>
                        <td>Pauly Trophic Level:</td>
                        <td><input type="text" name="pauly_trophic_level" id="pauly_trophic_level" size="6" maxlength="5" tabindex="7"></td>
                    </tr>
                    <tr>
                        <td>Var X:</td>
                        <td><input type="text" name="var_x" id="var_x" size="6" maxlength="255" tabindex="8"></td>
                    </tr>
                    <tr>
                        <td>Fishflag:</td>
                        <td>
                            <input type="checkbox" name="fishflag" id="fishflag" value="1" tabindex="9">
                        </td>
                    </tr>
                    <tr>
                        <td>Collecting/Week:</td>
                        <td><input type="text" name="collecting_per_week" id="collecting_per_week" size="3" maxlength="2" tabindex="10"></td>
                    </tr>
                    <tr>
                        <td>Always Collecting:</td>
                        <td>
                            <input type="checkbox" name="always_collecting" id="always_collecting" value="1" tabindex="11">
                        </td>
                    </tr>
                </div>
                <tr>
                    <td align="center" colspan="2"><button name="btn1" value="store" type="submit">Store</button></td>
                </tr>
            </tbody>
        </table>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const newSpeciesBtn = document.getElementById('new-species-btn');
        const speciesForm = document.getElementById('species-form');

        newSpeciesBtn.addEventListener('click', function (event) {
            event.preventDefault();
            speciesForm.style.display = 'block';
        });
    });
</script>

{% endblock %}
